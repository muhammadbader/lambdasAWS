The first file 's3_lambda_to_sqs.py' contains the code which is triggered and executed by the first Lambda after uploading any file (in our case json file with the pre defined format), and after processing the context of the file, all legal phone numbers are saved together with the Messages and sent to SQS which is connected to the destination of the current Lambda.

The Second file 'sqs_lambda2_to_sns.py' is executed when any input enqueue to the SQS, this Lambda first start reading the context of the input which is the output of the past Lambda (all legal number and messsages), and then starts searching every phone number in the DynamoDB dataBase which contains all previous contacts, and in case a new contact it will add it to the dataBase together with the message and the time the message is being sent to this specific number (the time is saved as a number in seconds), in case the number was present lambda changes the old message in the dataBase with the new one, and further checks the last time an SMS was sent to this contact and in case more than 24 hours passed it sends an SMS again to the contact, if not it just update the message column in the bataBase, sending SMS is done by the Lambda which connected to SNS.